webpackJsonp([0],[function(t,e,n){"use strict";var a=n(24),r=n.n(a);e.a=function(){return r.a.production}},,,,function(t,e,n){function a(t){n(12)}var r=n(5)(n(9),n(18),a,"data-v-1e2091f4",null);t.exports=r.exports},,function(t,e,n){"use strict";var a=n(1),r=n(20),s=n(4),o=n.n(s);a.a.use(r.a),e.a=new r.a({mode:"history",routes:[{path:"/",name:"Home",component:o.a}]})},function(t,e,n){function a(t){n(13),n(14)}var r=n(5)(n(8),n(19),a,"data-v-2a1ff92f",null);t.exports=r.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(11),r=(n.n(a),n(4)),s=n.n(r);e.default={components:{home:s.a},data:function(){return{}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(23),r=(n.n(a),n(15)),s=n.n(r);n(0);e.default={created:function(){var t=this,e={};fetch(this.BASE_URL+"/lgs/all",e).then(function(e){return t.handleResponse(e)}).then(function(e){t.lgs=e}).catch(function(e){if(console.log(e),!e.body)return t.genericErrorAlert();e.body.then(function(e){if(40==e.code)return e.errors.map(function(e){var n=e.message.split(":::"),a=n[0],r=n[1];t.fields[a].err=!0,t.fields[a].msg=r,t.invalidFields.push(a)})})})},data:function(){return{userData:{lg:0,num:""},lgs:[],showLoader:!1,results:[]}},methods:{modalClicked:function(t){console.log(t),"modal"==t.target.className&&(this.results=[])},save:function(){var t=this;if(0==this.userData.lg)return alert("Please select a local government.");var e={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s.a.stringify(this.userData)};this.toggleButton(),fetch(this.BASE_URL+"/plates/add",e).then(function(e){return t.handleResponse(e)}).then(function(e){t.toggleButton(),t.results=e}).catch(function(e){if(t.toggleButton(),console.log(e),!e.body)return t.genericErrorAlert();e.body.then(function(e){if(40==e.code)return e.errors.map(function(e){var n=e.message.split(":::"),a=n[0],r=n[1];t.fields[a].err=!0,t.fields[a].msg=r,t.invalidFields.push(a)})})})},toggleButton:function(){this.showLoader=!this.showLoader}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),r=n(7),s=n.n(r),o=n(6),l=n(0);a.a.config.productionTip=!1,a.a.mixin({data:function(){return{baseUrl:"http://plate.local",apiUrl:"http://plate.local",get BASE_URL(){return n.i(l.a)().base_url},get AUTH_URL(){return n.i(l.a)().auth_url}}},methods:{genericErrorAlert:function(){var t="An error occured.";return!1===navigator.onLine?alert(t+" Please check your internet connection."):alert(t+" Please try again.")},handleResponse:function(t,e){var n=t.headers.get("x-refresh-token"),a=t.headers.get("access-token");if(n&&this.$store.commit("saveRefreshToken",n),a&&this.$store.commit("saveAccessToken",a),e&&"function"==typeof e&&e(t),t.ok)return t.json();var r=new Error;r.status=t.status,r.headers=t.headers;try{r.body=t.json()}catch(r){console.log(r)}throw r}}}),new a.a({el:"#app",router:o.a,template:"<App/>",components:{App:s.a}})},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"s"}},[n("h3",{staticClass:"text-center"},[t._v("\n            Welcome, Please select your local government\n        ")]),t._v(" "),n("br"),t._v(" "),n("form",{staticClass:"form",attrs:{action:"/plate_n",method:"post"},on:{submit:function(e){e.preventDefault(),t.save()}}},[n("div",{staticClass:"col-sm-6 form-group"},[n("label",{staticClass:"sr-only",attrs:{for:"local_g"}},[t._v("\n                    Select your local Government\n                ")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.userData.lg,expression:"userData.lg"}],staticClass:"form-control",attrs:{name:"status"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.userData.lg=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"0"}},[t._v("Select Local government")]),t._v(" "),t._l(t.lgs,function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})],2)]),t._v(" "),n("div",{staticClass:"col-sm-6 form-group"},[n("label",{staticClass:"sr-only",attrs:{for:"num"}},[t._v("\n                    Enter number of plate numbers\n                ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.num,expression:"userData.num"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Number of Plate numbers",required:""},domProps:{value:t.userData.num},on:{input:function(e){e.target.composing||(t.userData.num=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"col-sm-6 col-sm-offset-3"},[n("button",{staticClass:"form-control btn bblue"},[t.showLoader?n("span",{staticClass:"spinner"}):n("span",{staticClass:"txt"},[t._v("Save")])])])])]),t._v(" "),n("transition",{attrs:{"enter-active-class":"fade-in","leave-active-class":"fade-out"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.results.length>0,expression:"results.length > 0"}],staticClass:"modal",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.modalClicked(e)}}},[n("div",{attrs:{id:"results"}},[n("table",{staticClass:"table table-bordered table-hover"},[n("thead",[n("tr",[n("th",[t._v("Plate numbers")])])]),t._v(" "),n("tbody",t._l(t.results,function(e){return n("tr",[n("td",[t._v(t._s(e))])])}))])])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",{attrs:{id:"site-header"}}),t._v(" "),n("main",{staticClass:"fw"},[n("home")],1)])},staticRenderFns:[]}},,,,,function(t,e){t.exports={development:{auth_url:"http://plate.local",base_url:"http://plate.local"},production:{auth_url:"",base_url:""}}}],[10]);
//# sourceMappingURL=app.c7a46422603b042132e9.js.map